{% extends 'base/base.html' %}

{% block title %}–í—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞ - AI Fitness Coach{% endblock %}

{% block content %}
<div class="container">
    <div class="text-center mb-5">
        <h2 class="text-gradient">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ —Ç—Ä–µ–Ω–µ—Ä–∞</h2>
        <p class="lead text-muted">–ö–∞–∂–¥—ã–π —Ç—Ä–µ–Ω–µ—Ä –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –∏ –ø–æ–¥–∞—á–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</p>
    </div>

    <form method="post" id="archetypeForm">
        {% csrf_token %}
        <div class="row">
            {% for archetype in archetypes %}
            <div class="col-md-4 mb-4">
                <div class="archetype-card" data-archetype="{{ archetype.key }}">
                    <img src="{{ archetype.image }}" alt="{{ archetype.name }}" 
                         class="archetype-avatar" 
                         onerror="this.src='/static/images/default-trainer.jpg'">
                    
                    <h4 class="archetype-name">{{ archetype.name }}</h4>
                    <p class="archetype-description">{{ archetype.description }}</p>
                    
                    <div class="mt-3">
                        <span class="badge bg-primary">{{ archetype.style }}</span>
                    </div>
                    
                    <input type="radio" name="archetype" value="{{ archetype.key }}" style="display: none;">
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-5">
            <button type="submit" class="btn btn-primary btn-lg" disabled id="continueBtn">
                <i class="fas fa-rocket"></i> –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
            </button>
        </div>
    </form>

    <!-- Preview cards for each archetype -->
    <div class="row mt-5">
        <div class="col-12">
            <h5 class="text-center mb-4">–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è:</h5>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h6 class="mb-0">ü§ô –°—Ç–∏–ª—å "–ë—Ä–æ"</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">"–ô–æ, –±—Ä–∞—Ç–∞–Ω! –°–µ–≥–æ–¥–Ω—è –∫–∞—á–∞–µ–º –≥—Ä—É–¥—å –∏ —Ç—Ä–∏—Ü–µ–ø—Å. –ü–æ–º–Ω–∏ - —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ! –î–∞–≤–∞–π –ø–æ–∫–∞–∂–µ–º —ç—Ç–∏–º –≤–µ—Å–∞–º, –∫—Ç–æ —Ç—É—Ç –±–æ—Å—Å! üí™"</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header bg-danger text-white">
                    <h6 class="mb-0">üéñÔ∏è –°—Ç–∏–ª—å "–°–µ—Ä–∂–∞–Ω—Ç"</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">"–í–Ω–∏–º–∞–Ω–∏–µ! –°–µ–≥–æ–¥–Ω—è 3 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 12 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π. –ù–∏–∫–∞–∫–∏—Ö –ø–æ–±–ª–∞–∂–µ–∫! –ß—É–≤—Å—Ç–≤—É–µ—à—å –∂–∂–µ–Ω–∏–µ? –û—Ç–ª–∏—á–Ω–æ! –ï—â–µ 2 –ø–æ–≤—Ç–æ—Ä–∞!"</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h6 class="mb-0">üéì –°—Ç–∏–ª—å "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª"</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">"–°–µ–≥–æ–¥–Ω—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≥—Ä—É–¥–Ω—ã–µ –º—ã—à—Ü—ã —á–µ—Ä–µ–∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –∞–¥–¥—É–∫—Ü–∏—é –ø–ª–µ—á–∞. –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏."</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const archetypeCards = document.querySelectorAll('.archetype-card');
    const continueBtn = document.getElementById('continueBtn');
    
    archetypeCards.forEach(card => {
        card.addEventListener('click', function() {
            // Remove selection from all cards
            archetypeCards.forEach(c => c.classList.remove('selected'));
            
            // Select this card
            this.classList.add('selected');
            
            // Update radio button
            const radio = this.querySelector('input[type="radio"]');
            radio.checked = true;
            
            // Enable continue button
            continueBtn.disabled = false;
        });
    });
    
    // Form submission with loading state
    document.getElementById('archetypeForm').addEventListener('submit', function() {
        continueBtn.innerHTML = '<span class="loading"></span> –°–æ–∑–¥–∞–µ–º –ø–ª–∞–Ω...';
        continueBtn.disabled = true;
    });
});
</script>
{% endblock %}